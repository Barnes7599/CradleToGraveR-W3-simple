---
title: Import CSV Files using Tidyverse   R Lesson 6
date: 2019-08-10
categories:
  - Absolute Beginners Guide
tags:
  - Test
  - Test2

type: post
w3codecolor: false
draft: false
thumbnail: https://i.ytimg.com/vi_webp/Pa-DuVzrGMo/maxresdefault.webp
---



<p><a href="https://www.youtube.com/watch?v=Pa-DuVzrGMo">
<picture><img src="https://i.ytimg.com/vi_webp/Pa-DuVzrGMo/maxresdefault.webp"></picture>
</a></p>
<div id="click-the-image-to-play-video." class="section level2">
<h2>Click the image to play video.</h2>
<p>00:00
welcome back to another our session today we’re going to talk about the tidy
verse just slightly and we’re going to import our own CSV files maybe even
throw a little plot in there and that’s the idea is to get you started with what
we call the tidy verse the tidy verse is a collection of packages it’s a
collection of packages that had Lee Wickham who was a prominent data
scientist that uses our he decided that his opinion matters and he’s going to
find a way to basically help you structure your code so that it kind of
has a similar convention and everybody can read it the same way and you can
work with the same packages using the same conventions anyways there’s an
operator called the pipe operator imagine pipes on the street that flow
water through them and you have water going through the streets but you can
pipe that water into a house you can pipe it into a container you could take</p>
<p>00:01
that container pipe it into a plant container so they are all they work with
each other you can pipe data from a big picture and you can pipe it into filters
things like that well we’ll get into that in a second let me first start with
let’s do a new project and we’re going to start from scratch so if you’re not
up speed click on new directory new project and we’re gonna call this one
important data you can call what if you want and that way we can start with a
fresh set of everything file new file let’s again do an our notebook because
our notebooks are a good way to document
I’m gonna go ahead and delete everything except for my metadata at the very top
which you’re gonna hear terms like yeah mole code and things like that this is
pretty much on par with like metadata yeah Mille YAML you’re going to hear</p>
<p>00:02
some of these terms so don’t get too frightened by any of them yet so we’re
gonna import data CSV data we’ll just do it like that that’s what we’re gonna do
I’m going to call that my title and remember this is a notebook file so as
soon as I save it so I’m going command s and we’ll call this import
data example 1 and click on save and as soon as I save it again on the
bottom right you’ll see import data example 1 dot HTML open that in the
browser so this is the one reason why we
like notebooks so much now you can’t see
it yet let me pull this over there we go so we have it we have our import data
CSV title and we have our code which is nothing I just wanted to reiterate that
that’s what the notebook file does so close that out let’s go back to our now</p>
<p>00:03
let’s create a introduction we’ll just call this double hash hash tag space and
call it intro and we’re going to say learn how to use tidy verse to import
CSV files for now we’ll see how far we get this is gonna be a short tutorial
okay let’s go ahead and do another one and call this one load libraries and and
this we’re actually gonna put some code so remember the three backticks
curly brace open if I can get it curly brace close and three more back ticks to
close out the code okay so now we have a
spot to put our code in what we’re gonna do though before we put our code in
there is we’re going to load libraries we’re going to type in library and we
actually type in tidy verse now you might not be able to do this what you
can do to check those you can actually just run this chunk mine will actually
run because I have it installed if you do not have it installed there are two
ways to methods to do this well there’s more than two but it’ll start with two</p>
<p>00:04
two we can actually put the installation in the actual code which I don’t
recommend you do because for a couple of reasons let me tell you this you don’t
let’s say you’re at a work computer and you’re not allowed to install certain
libraries if your code has installed dot packages in the code itself if somebody
might accidentally run code that they shouldn’t now this really doesn’t come
up at your personal computer life but at work there may be some restrictions
and it’s just not good practice to force
the user to install things if they don’t have it installed that was their choice
that being said let’s check it out install the hot packages this is not
like a hack or anything and just type in in quotes tidy verse and it’ll default
to the cran library which you don’t know much about yet but on a Mac let’s hit
command enter on a PC hit shift enter I believe or ctrl enter I forget and it’s</p>
<p>00:05
gonna install now since mine’s already installed it’s gonna ask me if I want to
update it and restart my computer let’s just go ahead
yes it’s not gonna even it’s gonna do it all behind the scenes anyways that’s
installing the package which I already had installed you it should take about
just a few seconds to install now your installed but again once you install it
you really don’t need to put this here we could have put this in the console
down here when we did it and it would have done the same thing install dock
packages but we didn’t have to do it either way we’re gonna do a third way
which is the probably most preferred way
for new people is click on packages here click on install and then you’ll see
install from it’s gonna say cran and you just type in tidy verse and it auto
populates I would for now keep this limited to your library when you start
working with files at work or restrictions on where things can be
installed you might have to find a different library and set that as a
default but we’re not gonna get into that yet install dependencies that’s</p>
<p>00:06
pretty important that’s on by default if
you do install that packages but however the dependencies are let’s say one
package relied on other packages to work so that package itself will use that
install feature and it’ll install the packages that it works with pretty
pretty nice and handy to do now if they’re if you’re restricted somehow
where you can’t do install that packages you’re gonna be in a world of hurt
because you might have to download each package as a tar GZ file which you can
click on here and and you can actually download them and then install them
manually that but that doesn’t install the dependencies hopefully you’ll never
have to do it that way but if you do message me now and I’ll walk you through
that now listen here we’re going to click on install one more time just to
show you that it works all it does is type in as you see in the console down
here it literally just typed in the same thing we did installed up packages see</p>
<p>00:07
that find it and then teddy bears okay there’s other places to install that’s
github or other websites but github is very common and cran is very common and
crayon stands for I don’t spell it out comprehensive our archive network so
it’s just the cran project right here this is where all of the libraries come
from lots of fact but anyways you’re gonna hear cran quite a bit ok now that
we have it installed we have to load it so loading it remember is library and
then you put in tight a verse in there and you load it once you load it once
you really don’t need to reload it every
time you run your code it’s it’s already loaded in memory it’s not going to make
any changes so you can just run that chunk once that’s why typically you
would have a load libraries type section or chunk and you’d load all the
libraries you’re going to use that being
said let’s go ahead and on line 15 after
the backticks I’m going to hit enter and you’ll see my my screen change beneath
that because it’s no longer the output of that previous chunk I can get that</p>
<p>00:08
back by hitting the play button again but instead I’m gonna type in let’s load
CSV file load CSV and we’re gonna put some more code in here back ticks curly
brace are closed brace and more back ticks now to load to load the CSV file
we have to rely on these packages packages are like pre-built
classes or functions or objects I didn’t really get into too much detail but
packages allow you to do some higher-level programming without any
effort at all like there might be a package out there that reads a CSV file
well it’s in the tidy verse but instead of you coding like how to read the data
and how to actually figure out how to read a CSV does a header count somebody
already did all that work for us we’re just gonna use their package I think
it’s called the read our package and it’s part of the tidy verse again the
tidy verse contains a lot of other packages that being said what is a CSV
file comma separated so it’s a spreadsheet that’s all it is</p>
<p>00:09
so I’m gonna show you one here I have one up already this one here is on a
website and I will post the link to that
website somewhere however you find it by here’s what I did I typed in an example
CSV data so I did not have this one in mind until just a few minutes ago I
clicked on CSV files people and I clicked on homes that’s it there’s where
the data is let’s bring that into our and I’ll show you how easy that is
so highlight the URL command C or ctrl C whatever it is and we’re gonna use a a
package called Reed underscore CSV you’re gonna see Reed dot CSV as well
which is actually going to do the job for you however we’re gonna stick to the
tidy verse way tidy verses a hey we should do it this way because Headley
Wickham has a an opinion on it and a lot
of people respect his opinion and use it so let’s go ahead and follow that for</p>
<p>00:10
now until you can write your own packages and make your own decisions on
that it’s kind of a joke but CSV underscore it’s the underscore CSV and
let’s just type in in in quotes that URL control V command B and what its gonna
do it’s gonna read it sure I’m gonna run this chunk but what’s it going to do
with it because I just said read it so I
put it spits out some information to the console but it’s not that useable so
let’s do something called piping piping what’s that piping is when you basically
pipe water from the outside Street big pipes we piped them into little pipes to
go into all the houses we pipe it into our sinks our showers we can use this
water in multiple ways cuz we can pipe it through more than one pipe or filters
so we can select certain parts of that pipe and that’s what we’re doing we’re
gonna do that with data so picture the data is like the big huge thing of water
and the pipes are the little very specific parts that you want out of it I
want to water my plant so I would water it through the big pipe to my house out</p>
<p>00:11
the sink into a bucket into the plant container you piped it all the way
through from the lake okay now so read underscore CSV we’re gonna
pipe that into a viewer in the viewer oh let me show you what a pipe is it’s a
parenthesis than / ruin to see space and we’re gonna
put it into the view which is capital VI e W which is a GUI interface for our
studio that that basically views CSV files now that was a lot of work I’ll
show you a shortcut in a second let’s hit the play button first and as you can
see it looks just like a spreadsheet almost everybody has worked with
spreadsheets in Excel so it’s a very similar looking spreadsheet comma
separated the underlying text behind this because this is a viewer it’s going
to change it to be aesthetically pleasing for my eye the underlying text
behind it though there’s an actual comma as we saw in the data the actual RAAS
form besides getting into ones and zeros</p>
<p>00:12
is comma separated values okay okay cool we’ve done that but we didn’t really do
anything with it let’s do something with
it instead of piping it to view which we don’t really want to view it every time
we run this code we want to you know do some stuff with it let’s store that CSV
file into RAM so we can really work with
it a little bit easier so I’m gonna call my data and I’m gonna assign the output
of read CSV so whatever the output of this is which is all of the data it’s
going to read it into my data and it’s read underscore CSV so what we’re going
to return is an actual table or a data frame that’s got enhanced capabilities
which in a nutshell it’s gonna return a spreadsheet for now so you can see here
my data 50 observations 9 variables I’m going to click on that and it’s got a
header file nice and clean it’s separated from the actual data the data
starts on Row 1 the header file is not actually the data and we go down to 50</p>
<p>00:13
rows while we’re here let me show you what happens if you do comma and then if
you come and then you hit tab you can see some of the options I’m gonna say
column names equals I’m gonna type in false and then I’m gonna run this by
hitting command to enter or ctrl enter and I’m gonna view it again oh wait
before I view it fifty-one observations and nine variables
the nine variables are the column names those are called variables or features
you’re gonna see a feature list a variable list or columns those are the
common words for that but why did I go to 51 because I said column names equals
false it does not think that cell lists living
rooms are names of columns they think that’s actually data now which is
obviously incorrect but I wanted to show you that so that if you ever run across
it that’s the reason by default column names equals true you can either make
this blank or just explicitly say true which I could defend explicit see it
went down to 50 observations so we’re back to square one which is a more clean</p>
<p>00:14
readable piece of data cool my date is there and what are we gonna do with data
well let’s do some simple simple things with it let’s figure out what the
dimensions are yeah we can see the dimensions are 50 observations of nine
variables but let’s let’s do that more programmatically let’s do D I M
which stands for dimensions and we’ll just type in my I’m Square data and
let’s run that command enter and you’ll see below that on the output line number
one you have 50 observations and nine variables cool well let’s talk about
that now let’s talk about that I want to write a story down here so my story I’m
gonna talk about this data I have no idea of this data is I just pulled it
randomly so it turns out that there are how many observations were there so
there’s 50 observation 50 houses well if
I type in 50 houses well what if it’s 51</p>
<p>00:15
next time are 60 or 70 oh crap let’s not do 50 houses that’s stupid
let’s do backtick the letter R space dimension my data and then backtick
again ooh almost there almost there now what I’m doing is I’m putting something
called an inline piece of code and the in line now in order to get this my data
has to be defined but this is essentially the same thing as this chunk
from lines 19 through 23 well it’s line 22 but it’s within
the non our portion of my my notebook let’s run that and I’ll show you what’s
wrong with it and so before that let’s hit save and
remember when you save a notebook file import data it automatically in your
file over here creates this HTML file I’m gonna open that in the browser and
we’ll see my story down at the below and
it’s got the code here you can hide them cool I mean this is why you love</p>
<p>00:16
notebooks my story it turns out there are 50 comma nine houses we don’t want
that we want 50 houses and this is purely made up data by the way so let’s
go back here and I want to show you how to subset so as you saw here when I run
this chunk on line lines 20 through 22 when I run my atom my data it shows 50
and 9 well we only want the 15 not the 9 so let’s subset this data we’re gonna
use brackets for that so open and close bracket so we want the first or the
second element we want the first element so dim is always gonna return two
elements okay command enter now just just 50 if I put the number 2 in there
and I do it it’s gonna show 9 see how that works so it’s subset I’m gonna
subset the data and because this is a vector of sorts it’s a it’s not a
spreadsheet itself it’s actually just one row of data so it’s a what it’s</p>
<p>00:17
actually called as an atomic vector okay more on that later though but now I see
how I can just pull the 50 out now in my code I don’t want that I want the whole
thing because when you’re reading code you should know what this is right we’re
gonna use that a lot but over here in my story I want to also subset the first
one so there we go I put the brackets in there and remember these are backticks
back to our space then your actual line of code back tick this is really cool
because your story can be dynamic this is another reason why these notebook
files are awesome command s let’s go back to the browser and see if it
updated it turns out there are 50 houses
pretty cool pretty cool now let’s do one more thing let’s put in another R chunk
but I’m so sick of type and all that out why don’t we do
command option I and you’ll see that it automatically put in the back ticks in
the R which is pretty nice all we’re gonna do for this plot is type in the</p>
<p>00:18
word plot and I’m going to type in my data and see what kind of plot pops up
probably in error ah whew lots of plots because we didn’t tell it what kind of
plot right we didn’t tell it which data elements to use nothing but I wanted to
show you that how easy it is to get plots going with plot for my next
tutorial I’m gonna show you a little bit more about GG plot and how to make
really cool plots and really simple plots so hope this lesson was a good
view and I will see you in the next one youEnd of file</p>
</div>
